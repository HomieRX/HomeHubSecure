# HomeHub Secure - Example environment variables
# Copy to .env and fill values for your environment

# Server
PORT=5000
NODE_ENV=development

# Session
# Use a long random value in production (at least 32 chars)
SESSION_SECRET=changeme_replace_with_secure_random_value_32chars
SESSION_COOKIE_NAME=hh.sid

# Development origin used for strict CORS checks (vite dev server)
DEV_ORIGIN=http://localhost:5173

# Database (Postgres) - required in production
# For local dev, you can leave this empty to use in-memory stores
DATABASE_URL=postgres://user:password@localhost:5432/homehub_secure
STORAGE_BACKEND=memory # or 'database' in production

# OIDC / Identity Provider (example values)
ISSUER_URL=https://example-issuer.com
REPL_ID=your-repl-id-or-client-id
REPLIT_DOMAINS=yourdomain.com,anotherdomain.com

# Optional integrations
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=team@example.com

# Debugging
LOG_LEVEL=info
# HomeHub Environment Configuration
# Copy to .env and fill in your actual values

# ===========================================
# DATABASE CONFIGURATION (Required)
# ===========================================
# PostgreSQL connection string for main database
# Format: postgresql://username:password@host:port/database
DATABASE_URL="postgresql://username:password@localhost:5432/homehub"

# Storage backend: "memory" for development, "database" for production
STORAGE_BACKEND="database"

# ===========================================
# SERVER CONFIGURATION
# ===========================================
# Port for the web server (required by Replit)
PORT=5000

# Environment: development, production, test
NODE_ENV="development"

# ===========================================
# AUTHENTICATION & SECURITY (Required)
# ===========================================
# Secret key for session encryption (generate with: openssl rand -hex 32)
SESSION_SECRET="your-super-secret-session-key-here"

# Replit OIDC configuration (required for authentication)
ISSUER_URL="https://replit.com/oidc"
REPL_ID="your-repl-id"

# Allowed domains for Replit authentication (required in production)
# Comma-separated list: "domain1.com,domain2.com"
REPLIT_DOMAINS="your-domain.replit.app"

# ===========================================
# ADMIN CONFIGURATION (Optional)
# ===========================================
# Specific user ID to always grant admin access
ADMIN_USER_ID=""

# Enable automatic admin bootstrap for first user (development only)
# Set to "1" to enable
ADMIN_BOOTSTRAP="1"

# ===========================================
# EXTERNAL INTEGRATIONS (Optional)
# ===========================================
# Stripe configuration for payments
TESTING_STRIPE_SECRET_KEY="sk_test_..."
TESTING_VITE_STRIPE_PUBLIC_KEY="pk_test_..."

# SendGrid for email notifications
SENDGRID_API_KEY=""
SENDGRID_FROM_EMAIL=""

# ===========================================
# DEVELOPMENT TOOLS (Optional)
# ===========================================
# Enable development features
DEBUG=""

# Custom logging level
LOG_LEVEL="info"